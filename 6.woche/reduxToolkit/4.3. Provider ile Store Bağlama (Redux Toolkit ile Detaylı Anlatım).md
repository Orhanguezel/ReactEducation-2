# ğŸš€ **4.3. Provider ile Store BaÄŸlama (Redux Toolkit ile DetaylÄ± AnlatÄ±m)** ğŸš€

Redux Toolkit ile oluÅŸturduÄŸumuz **store**'u, React uygulamasÄ±na baÄŸlamak iÃ§in **`Provider`** bileÅŸenini kullanÄ±rÄ±z. Bu iÅŸlem sayesinde uygulamadaki tÃ¼m bileÅŸenler (components), **global state**â€™e eriÅŸebilir.

> **KÄ±saca:** `Provider`, React ile Redux arasÄ±nda bir kÃ¶prÃ¼ gÃ¶revi gÃ¶rÃ¼r. ğŸŒ‰

---

## ğŸ“¦ **1ï¸âƒ£ `Provider` Nedir?**

- `Provider`, **React-Redux** kÃ¼tÃ¼phanesinden gelir.
- Redux storeâ€™unu uygulamanÄ±n en Ã¼st katmanÄ±na yerleÅŸtirir.
- Alt bileÅŸenlerin (child components) storeâ€™a eriÅŸmesini saÄŸlar.

### ğŸ“¦ **Kurulum:**

```bash
npm install react-redux
```

---

## ğŸš€ **2ï¸âƒ£ Provider ile Store BaÄŸlama AdÄ±mlarÄ±**

### ğŸ“„ **A. Storeâ€™u OluÅŸturma**

```javascript
// src/app/store.js
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from '../features/counter/counterSlice';

export const store = configureStore({
  reducer: {
    counter: counterReducer,
  },
});
```

- **`configureStore`** ile store oluÅŸturduk.
- `counterReducer` adlÄ± reducerâ€™Ä± ekledik.

---

### ğŸ“„ **B. Provider ile Storeâ€™u Uygulamaya BaÄŸlama**

```javascript
// src/main.jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import { Provider } from 'react-redux';
import { store } from './app/store';  // OluÅŸturduÄŸumuz store'u import ettik

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <Provider store={store}>  {/* âœ… Store'u React uygulamasÄ±na baÄŸladÄ±k */}
      <App />
    </Provider>
  </React.StrictMode>
);
```

### ğŸ¯ **AÃ§Ä±klama:**

- **`Provider`**: React-Redux bileÅŸeni.  
- **`store={store}`**: Redux storeâ€™u, Providerâ€™a parametre olarak verilir.  
- TÃ¼m uygulama (`<App />`), artÄ±k bu storeâ€™a eriÅŸebilir.

---

## ğŸŒ **3ï¸âƒ£ `Provider` YapÄ±sÄ±nÄ±n Ã‡alÄ±ÅŸma MantÄ±ÄŸÄ±**

```plaintext
<Provider store={store}>
   â”œâ”€â”€ App
       â”œâ”€â”€ Counter
       â””â”€â”€ UserList
```

- `App`, `Counter`, `UserList` gibi tÃ¼m bileÅŸenler, artÄ±k `store`'daki veriye eriÅŸebilir.  
- Bu eriÅŸimi saÄŸlamak iÃ§in bileÅŸenlerde `useSelector` ve `useDispatch` kullanÄ±lÄ±r.

---

## âš¡ **4ï¸âƒ£ useSelector ve useDispatch ile State YÃ¶netimi**

### ğŸ“„ **A. Counter Slice**

```javascript
// src/features/counter/counterSlice.js
import { createSlice } from '@reduxjs/toolkit';

const counterSlice = createSlice({
  name: 'counter',
  initialState: { value: 0 },
  reducers: {
    increment: (state) => { state.value += 1; },
    decrement: (state) => { state.value -= 1; },
  },
});

export const { increment, decrement } = counterSlice.actions;
export default counterSlice.reducer;
```

---

### ğŸ“„ **B. Counter BileÅŸeni (Provider ile BaÄŸlÄ±)**

```javascript
// src/features/counter/Counter.js
import { useSelector, useDispatch } from 'react-redux';
import { increment, decrement } from './counterSlice';

function Counter() {
  const count = useSelector((state) => state.counter.value); // âœ… Store'daki state'e eriÅŸim
  const dispatch = useDispatch(); // âœ… State'i gÃ¼ncellemek iÃ§in kullanÄ±lÄ±r

  return (
    <div>
      <h2>Counter: {count}</h2>
      <button onClick={() => dispatch(increment())}>+1</button>
      <button onClick={() => dispatch(decrement())}>-1</button>
    </div>
  );
}

export default Counter;
```

### ğŸ¯ **AÃ§Ä±klama:**

- **`useSelector()`**: Storeâ€™dan verileri okumak iÃ§in kullanÄ±lÄ±r.  
- **`useDispatch()`**: Storeâ€™a action gÃ¶ndermek iÃ§in kullanÄ±lÄ±r.  
- ArtÄ±k `Counter` bileÅŸeni, `Provider` sayesinde global stateâ€™e baÄŸlanmÄ±ÅŸtÄ±r. âœ…

---

## ğŸ—‚ï¸ **5ï¸âƒ£ TÃ¼m Uygulama YapÄ±sÄ±**

```
src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ store.js
â”œâ”€â”€ features/
â”‚   â””â”€â”€ counter/
â”‚       â”œâ”€â”€ Counter.js
â”‚       â””â”€â”€ counterSlice.js
â”œâ”€â”€ App.js
â””â”€â”€ main.jsx
```

---

### ğŸ“„ **App.js**

```javascript
import Counter from './features/counter/Counter';

function App() {
  return (
    <div>
      <h1>Redux Toolkit & Provider Ã–rneÄŸi</h1>
      <Counter />
    </div>
  );
}

export default App;
```

---

## ğŸš€ **6ï¸âƒ£ Birden Fazla Store veya Provider KullanÄ±mÄ±**

Bazen birden fazla context veya state yÃ¶netimi gerekebilir. Redux dÄ±ÅŸÄ±nda da baÅŸka Provider'lar (Ã¶rneÄŸin Theme, Auth) kullanÄ±labilir.

```javascript
// src/main.jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import { Provider } from 'react-redux';
import { store } from './app/store';
import { ThemeProvider } from './context/ThemeContext';  // Ã–rneÄŸin bir tema saÄŸlayÄ±cÄ±

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <Provider store={store}>
      <ThemeProvider>
        <App />
      </ThemeProvider>
    </Provider>
  </React.StrictMode>
);
```

### ğŸ¯ **AÃ§Ä±klama:**

- `Provider` Redux iÃ§in kullanÄ±lÄ±r.  
- `ThemeProvider`, uygulamanÄ±n temasÄ±nÄ± yÃ¶netir.  
- Bu ÅŸekilde birden fazla global state yÃ¶netimi yapÄ±labilir.

---

## âš¡ **7ï¸âƒ£ Redux DevTools ile Takip Etme**

`Provider` ve `store` doÄŸru Ã§alÄ±ÅŸÄ±yor mu diye kontrol etmek iÃ§in **Redux DevTools** kullanabilirsin.

1. Chrome iÃ§in [Redux DevTools](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd) eklentisini indir.  
2. Uygulamada butonlara tÄ±kladÄ±kÃ§a yapÄ±lan deÄŸiÅŸiklikleri anlÄ±k gÃ¶rebilirsin.

---

## âœ… **8ï¸âƒ£ YaygÄ±n Hatalar ve Ã‡Ã¶zÃ¼mleri**

| **Hata**                                | **AÃ§Ä±klama**                                      | **Ã‡Ã¶zÃ¼m**                                  |
|:--------------------------------------- |:------------------------------------------------ |:------------------------------------------ |
| `Cannot read property 'value' of undefined` | Store yapÄ±landÄ±rmasÄ±nda eksik reducer tanÄ±mlanmÄ±ÅŸ | `store.js` dosyasÄ±nÄ± kontrol et.           |
| `useSelector` undefined hatasÄ±           | `Provider` eklenmemiÅŸ                            | `Provider` ile `store`â€™u sarmaladÄ±ÄŸÄ±ndan emin ol. |
| `dispatch is not a function`             | `useDispatch()` yanlÄ±ÅŸ kullanÄ±lmÄ±ÅŸ                | `import { useDispatch } from 'react-redux'` ekle. |

---

## ğŸ¯ **9ï¸âƒ£ Ã–zet**

1. **`Provider`**, React uygulamasÄ±nÄ± Redux storeâ€™a baÄŸlar.  
2. `store={store}` ile global state uygulamaya tanÄ±tÄ±lÄ±r.  
3. `useSelector()` ile veriye eriÅŸilir.  
4. `useDispatch()` ile state gÃ¼ncellenir.  
5. Redux DevTools ile deÄŸiÅŸiklikler izlenebilir.  

---

Dilersen ÅŸimdi bir sonraki adÄ±mda **Dispatch ve Selector kullanÄ±mÄ±** ile ilgili detaylÄ± bir Ã¶rnek yapabiliriz. ğŸš€