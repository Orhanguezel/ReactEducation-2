# ğŸš€ **4.1. Store OluÅŸturma (Redux Toolkit ile DetaylÄ± AnlatÄ±m)** ğŸš€

**Redux Store**, uygulamanÄ±n tÃ¼m global verilerini saklayan merkezi bir yapÄ±dÄ±r. Uygulamada birden fazla bileÅŸenin (component) aynÄ± veriye eriÅŸmesi gerekiyorsa, bu veriler **store** iÃ§inde saklanÄ±r.

Redux Toolkit ile store oluÅŸturmak, klasik Redux'a gÃ¶re Ã§ok daha kolaydÄ±r. ArtÄ±k karmaÅŸÄ±k yapÄ±landÄ±rmalara gerek yok.  

---

## ğŸ“¦ **Redux Store Nedir?**

- **Veri Deposu:** UygulamanÄ±n tÃ¼m stateâ€™ini tutar.  
- **Tek Kaynak:** Stateâ€™in merkezi bir yerde kontrol edilmesini saÄŸlar.  
- **GÃ¼venli YÃ¶netim:** BileÅŸenler arasÄ± veri akÄ±ÅŸÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.  

> Ã–rneÄŸin bir **envanter yÃ¶netimi** uygulamasÄ±nda; Ã¼rÃ¼nler, stok miktarlarÄ±, kullanÄ±cÄ± bilgileri gibi veriler **store** iÃ§inde tutulur.

---

## âš¡ **Redux Toolkit ile Store NasÄ±l OluÅŸturulur?**

### âœ… **1. Store YapÄ±landÄ±rmasÄ± (configureStore)**

Redux Toolkit, `configureStore` adÄ±nda bir fonksiyon sunar. Bu fonksiyon sayesinde store oluÅŸturmak Ã§ok basittir.

### ğŸ“„ **Ã–rnek: Basit Store**

```javascript
// src/app/store.js
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from '../features/counter/counterSlice';

export const store = configureStore({
  reducer: {
    counter: counterReducer,  // Slice burada tanÄ±mlanÄ±r
  },
});
```

### ğŸ¯ **AÃ§Ä±klama:**
- **`configureStore`**: Redux Toolkitâ€™in sunduÄŸu hazÄ±r yapÄ±landÄ±rma fonksiyonu.
- **`reducer`**: Uygulamadaki tÃ¼m slice'lar burada birleÅŸtirilir.  
- `counterReducer`: Ã–rneÄŸin bir sayaÃ§ iÃ§in oluÅŸturduÄŸumuz slice.  

---

### ğŸš€ **2. Birden Fazla Slice ile Store YapÄ±landÄ±rma**

GerÃ§ek projelerde genellikle birden fazla slice olur (Ã¶rneÄŸin kullanÄ±cÄ±, sipariÅŸ, Ã¼rÃ¼n vb.).

```javascript
// src/app/store.js
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from '../features/counter/counterSlice';
import userReducer from '../features/user/userSlice';
import inventoryReducer from '../features/inventory/inventorySlice';

export const store = configureStore({
  reducer: {
    counter: counterReducer,
    user: userReducer,
    inventory: inventoryReducer,
  },
});
```

### ğŸ¯ **AÃ§Ä±klama:**
- **ModÃ¼ler YapÄ±:** Her modÃ¼l iÃ§in ayrÄ± slice oluÅŸturabiliriz (counter, user, inventory).
- **Merkezi YÃ¶netim:** Hepsi `reducer` altÄ±nda birleÅŸir.

---

### ğŸš€ **3. Storeâ€™u Uygulamaya BaÄŸlama (Provider)**

Storeâ€™u React uygulamasÄ±na baÄŸlamak iÃ§in `react-redux` paketinden gelen **`Provider`** kullanÄ±lÄ±r.

```javascript
// src/main.jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import { Provider } from 'react-redux';
import { store } from './app/store';  // OluÅŸturduÄŸumuz storeâ€™u import ediyoruz

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <Provider store={store}>  {/* Store'u tÃ¼m uygulamaya baÄŸlar */}
      <App />
    </Provider>
  </React.StrictMode>
);
```

### ğŸ¯ **AÃ§Ä±klama:**
- `Provider`: UygulamanÄ±n tÃ¼m bileÅŸenlerinin storeâ€™a eriÅŸebilmesini saÄŸlar.  
- `store`: Redux Toolkit ile oluÅŸturduÄŸumuz storeâ€™dur.

---

## ğŸ“‹ **4. Store YapÄ±landÄ±rmasÄ±nda Ekstra Ã–zellikler**

### ğŸ” **A. Middleware Ekleme**

Middleware, Reduxâ€™ta aksiyonlar ile reducerâ€™lar arasÄ±nda Ã§alÄ±ÅŸÄ±r. Genellikle **API Ã§aÄŸrÄ±larÄ±** veya **loglama** iÅŸlemleri iÃ§in kullanÄ±lÄ±r.

```javascript
// src/app/store.js
import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';
import logger from 'redux-logger';
import userReducer from '../features/user/userSlice';

export const store = configureStore({
  reducer: {
    user: userReducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware().concat(logger), // Logger middleware ekliyoruz
});
```

### ğŸ¯ **AÃ§Ä±klama:**
- **`getDefaultMiddleware`**: Redux Toolkitâ€™in varsayÄ±lan middlewareâ€™lerini dÃ¶ner.  
- **`logger`**: Konsolda actionâ€™larÄ± ve state deÄŸiÅŸimlerini gÃ¶rmek iÃ§in kullanÄ±lÄ±r.

---

### ğŸ—„ï¸ **B. DevTools Entegrasyonu**

Redux DevTools, uygulamada yapÄ±lan state deÄŸiÅŸikliklerini gÃ¶rselleÅŸtiren gÃ¼Ã§lÃ¼ bir araÃ§tÄ±r. Redux Toolkit ile bu Ã¶zellik **otomatik** olarak gelir.

```javascript
// src/app/store.js
import { configureStore } from '@reduxjs/toolkit';
import userReducer from '../features/user/userSlice';

export const store = configureStore({
  reducer: { user: userReducer },
  devTools: process.env.NODE_ENV !== 'production',  // Sadece geliÅŸtirme ortamÄ±nda etkin
});
```

- **DevTools ile:** Hangi action Ã§alÄ±ÅŸtÄ±? Hangi state gÃ¼ncellendi? gibi sorularÄ±n yanÄ±tlarÄ±nÄ± gÃ¶rebilirsin.  
- Chrome eklentisi olarak indirebilirsin: [Redux DevTools](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd)

---

## ğŸŒ **5. Tam Uygulama Ã–rneÄŸi**

### ğŸ“„ **store.js**

```javascript
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from '../features/counter/counterSlice';
import userReducer from '../features/user/userSlice';

export const store = configureStore({
  reducer: {
    counter: counterReducer,
    user: userReducer,
  },
});
```

### ğŸ“„ **counterSlice.js**

```javascript
import { createSlice } from '@reduxjs/toolkit';

const counterSlice = createSlice({
  name: 'counter',
  initialState: { value: 0 },
  reducers: {
    increment: (state) => { state.value += 1; },
    decrement: (state) => { state.value -= 1; },
  },
});

export const { increment, decrement } = counterSlice.actions;
export default counterSlice.reducer;
```

### ğŸ“„ **App.js**

```javascript
import { useSelector, useDispatch } from 'react-redux';
import { increment, decrement } from './features/counter/counterSlice';

function App() {
  const count = useSelector((state) => state.counter.value);
  const dispatch = useDispatch();

  return (
    <div>
      <h1>Count: {count}</h1>
      <button onClick={() => dispatch(increment())}>+1</button>
      <button onClick={() => dispatch(decrement())}>-1</button>
    </div>
  );
}

export default App;
```

### ğŸ“„ **main.jsx**

```javascript
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import { Provider } from 'react-redux';
import { store } from './app/store';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <Provider store={store}>
      <App />
    </Provider>
  </React.StrictMode>
);
```

---

## ğŸš€ **6. Redux Toolkit ile Storeâ€™un GÃ¼Ã§lÃ¼ YÃ¶nleri**

- âœ… **Basit Kurulum:** `configureStore` ile tek satÄ±rda store oluÅŸturma  
- âœ… **GeliÅŸmiÅŸ Performans:** VarsayÄ±lan middleware ve DevTools desteÄŸi  
- âœ… **Kolay Ã–lÃ§eklenebilirlik:** BÃ¼yÃ¼k projelerde birden fazla slice ile Ã§alÄ±ÅŸabilme  
- âœ… **Otomatik Ä°mmutability:** `immer.js` ile veriler gÃ¼venli bir ÅŸekilde gÃ¼ncellenir  

---

## ğŸ¯ **Ã–zet:**

1. **Store**, uygulamanÄ±n tÃ¼m global verilerini saklar.  
2. `configureStore` ile kolayca oluÅŸturulur.  
3. **Provider** ile React uygulamasÄ±na entegre edilir.  
4. Birden fazla slice ile modÃ¼ler yapÄ±lar kurabilirsin.  

Dilersen bir sonraki adÄ±mda **slice yapÄ±sÄ±nÄ±** detaylÄ± inceleyebiliriz veya projene Ã¶zel bir yapÄ± kurabiliriz. ğŸ˜Š ğŸš€